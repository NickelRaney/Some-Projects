function [f,g,D]=res(N,u,v,p,f,g,D)
%º∆À„F-AU-BP∫ÕD-B'U
n=2^N;
h=1/n;
f=f+(p(1:n-1,:)-p(2:n,:))/h;
g=g+(p(:,1:n-1)-p(:,2:n))'/h;

ur=(u(2:n-1,:)-u(1:n-2,:))/h^2;
f(1:n-2,:)=f(1:n-2,:)+ur;
f(2:n-1,:)=f(2:n-1,:)-ur;
f(1,:)=f(1,:)-u(1,:)/h^2;
f(n-1,:)=f(n-1,:)-u(n-1,:)/h^2;
ur=(u(:,2:n)-u(:,1:n-1))/h^2;
f(:,1:n-1)=f(:,1:n-1)+ur;
f(:,2:n)=f(:,2:n)-ur;

vr=(v(2:n-1,:)-v(1:n-2,:))/h^2;
g(1:n-2,:)=g(1:n-2,:)+vr;
g(2:n-1,:)=g(2:n-1,:)-vr;
g(1,:)=g(1,:)-v(1,:)/h^2;
g(n-1,:)=g(n-1,:)-v(n-1,:)/h^2;
vr=(v(:,2:n)-v(:,1:n-1))/h^2;
g(:,1:n-1)=g(:,1:n-1)+vr;
g(:,2:n)=g(:,2:n)-vr;

ur=zeros(n+1,n);
vr=zeros(n+1,n);
ur(2:n,:)=u;
vr(2:n,:)=v;
D=D+(ur(2:n+1,:)-ur(1:n,:))/h+(vr(2:n+1,:)-vr(1:n,:))'/h;







